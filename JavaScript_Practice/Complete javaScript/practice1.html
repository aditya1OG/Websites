<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>callback and promises practice qus</h1>
    <!-- <script>
        
//😄👍😄👍😄👍😄👍: callback and promises 

//😄👍Qus: loadscript in js:


const loadScript = async (src) => {
    return new Promise((resolve, reject) => {
        let script = document.createElement('script')
        script.src = src
        script.onload = () => {
            resolve(src +  "\n Done, successfully executed")
        }
        document.head.append(script)
    })
}
//👍 we are using this: 

// let a = loadScript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js")
// a.then((value) => {
//     console.log(value);
// })

//👍or we are using this:

const main1 = async () => {
    console.log(new Date().getMinutes())
    let a = await loadScript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js")
    console.log(a)
    console.log(new Date().getSeconds())
}
main1()
    </script> -->

    <h2>using try catch</h2>
    <!-- <script>
        let first = () => {
            // return new Promise((resolve, reject) => {
            //     setTimeout(() => {
            //         resolve("hiii i'm here")
            //     }, 2000)
            // })

            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    reject(new Error("there is some error"))
                }, 2000)
            })
        }

        let main1 = async() => {
            try{
                let c = await first()
                console.log(c)
            }
            catch(err){
                console.log("this error has been handled")
            }
          
        }
        main1()
    </script> -->

    <h1>using promise.all</h1>
    <script>
        let p1 = async () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("first")
                }, 1000)
            })
        }
        let p2 = async () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("second")
                }, 2000)
            })
        }
        let p3 = async () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve("third")
                }, 2000)
            })
        }

        // let promise_all = Promise.all([p1, p2, p3])
        // promise_all.then((value) => {
        //     console.log(value)
        // })

        const main1 = async () => {
            let a = await p1()
            let b = await p2()
            let c = await p3()

            let promise_all = Promise.all([p1, p2, p3])
            console.log(promise_all)
            console.log(a, b, c)
            // return [a, b, c]
        }
        main1()
    </script>
</body>

</html>